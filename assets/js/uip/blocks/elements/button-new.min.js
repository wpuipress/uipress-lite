const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;export function moduleData(){return{props:{display:String,name:String,block:Object,contextualData:Object},data:function(){return{loading:!0,dynamics:this.uipData.dynamicOptions,forceFlex:!1,showContent:!1}},inject:["uipData","uipress","uiTemplate"],watch:{},created:function(){},mounted:function(){this.setContent()},computed:{returnText(){let t=this.uipress.get_block_option(this.block,"block","buttonText",!0);return t?this.uipress.isObject(t)?"string"in t?t.string:"":t:""},getLink(){let t=this.uipress.get_block_option(this.block,"block","linkSelect",!0);return this.uipress.isObject(t)?t.value:t},getOnClickCode(){return this.uipress.get_block_option(this.block,"block","onClickCode")},getIcon(){let t=this.uipress.get_block_option(this.block,"block","iconSelect");return t?"value"in t?t.value:t:""},returnShowContent(){return this.showContent}},methods:{setContent(){if(!("content"in this.block)){const t=this.uipData.blocks.filter(t=>"uip-icon"==t.moduleName),e=this.uipData.blocks.filter(t=>"uip-paragraph"==t.moduleName);let n=JSON.parse(JSON.stringify(t[0])),i=JSON.parse(JSON.stringify(e[0]));n.uid=this.uipress.createUID(),i.uid=this.uipress.createUID(),delete n.path,delete n.args,delete n.category,delete n.description,delete n.path,delete i.path,delete i.args,delete i.category,delete i.description,delete i.path,this.block.content=[],this.block.content.push(n),this.block.content.push(i),this.uipress.inject_block_presets(n,n.settings),this.uipress.inject_block_presets(i,i.settings),requestAnimationFrame(()=>{this.showContent=!0})}},async forceReload(){this.showContent=!1,await this.$nextTick(),this.showContent=!0},followLink(t){if(t.ctrlKey||t.shiftKey||t.metaKey||t.button&&1==t.button)return;t.preventDefault();let e,n=!1,i=this.uipress.get_block_option(this.block,"block","linkSelect",!0),s=this.uipress.get_block_option(this.block,"block","linkSelect");if(i&&(this.uipress.isObject(i)?"value"in i&&(n=i.value):n=i,n&&""!=n&&("dynamic"==(e=this.uipress.isObject(s)?s.newTab:"dynamic")&&this.uipress.updatePage(n),"default"==e&&window.location.replace(n),"newTab"==e))){let t=this.$refs.newTab;t.href=n,t.click(),document.getElementById}},buildOnClick(){let t="";return t+='document.getElementById("'+this.block.uid+'").addEventListener("click", function(){',t+=this.getOnClickCode,t+="});"},returnDropStyles(){let t=this.uipress.checkNestedValue(this.block,["settings","style","options"]);if(!t)return;let e=this.uipress.explodeSpecificBlockSettings(t,"style",this.uipData.templateDarkMode,null,"flexLayout");return void 0===e?"":(e.includes("display:grid;")?this.forceFlex=!0:this.forceFlex=!1,e)}},template:'\n    \n          \n            <a :href="getLink" class="uip-button-default uip-inline-flex uip-gap-xxs uip-flex-center uip-no-underline" @click="followLink($event);">\n            \n              <uip-content-area v-if="block.content" :contextualData="contextualData" :dropAreaStyle="returnDropStyles()"\n              :content="block.content" :returnData="function(data) {block.content = data} "/>\n              \n              <component v-if="getOnClickCode" is="script" scoped>\n              \n                {{buildOnClick()}}\n              \n              </component>\n              \n              <a ref="newTab" target="_BLANK" class="uip-hidden"></a>\n              \n            </a>\n            \n            \n\n          '}};