const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;export function moduleData(){return{props:{display:String,name:String,block:Object},data:function(){return{darkToggle:this.returnSetting()}},inject:["uipData","uipress","uiTemplate"],watch:{"block.settings.block.options.prefersColorScheme.value":{handler(e,t){this.checkAutoDark()},deep:!0},"uipData.userPrefs.darkTheme":{handler(e,t){this.setTheme(),this.uipress.saveUserPreference("darkTheme",e,!1)},deep:!0}},mounted:function(){this.checkAutoDark(),this.setTheme()},computed:{},methods:{returnSetting(){return!!this.uipData.userPrefs.darkTheme},setTheme(){let e="light";this.uipData.userPrefs.darkTheme?(e="dark",this.uipData.userPrefs.darkTheme=!0):this.uipData.userPrefs.darkTheme=!1,document.documentElement.setAttribute("data-theme",e);let t=document.getElementsByClassName("uip-page-content-frame");if(t[0])for(const r of t)r.contentWindow.document.documentElement&&r.contentWindow.document.documentElement.setAttribute("data-theme",e)},checkAutoDark(){let e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=this.block.settings.block.options.prefersColorScheme.value;e&&t?this.uipData.userPrefs.darkTheme=!0:t&&(this.uipData.userPrefs.darkTheme=!1)}},template:'\n          <label class="uip-dark-switch uip-overflow-hidden">\n            <input type="checkbox" v-model=\'uipData.userPrefs.darkTheme\' >\n            <span class="uip-slider"></span>\n          </label>\n          '}};