const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;export default{props:{display:String,name:String,block:Object},data:()=>({loading:!1}),inject:["uiTemplate"],created(){this.mountEventListeners()},onUnmounted(){document.removeEventListener("uip_page_change_started",this.handlePageLoadStart,{once:!1}),document.removeEventListener("uip_page_change_loaded",this.handlePageLoadEnd,{once:!1})},computed:{isLoading(){return!this.uiTemplate.isPreview&&"prod"!=this.uiTemplate.display||this.loading},getImage(){let e=this.get_block_option(this.block,"block","loaderImage");return!!this.isObject(e)&&(!!e.url&&e.url)}},methods:{mountEventListeners(){document.addEventListener("uip_page_change_started",this.handlePageLoadStart,{once:!1}),document.addEventListener("uip_page_change_loaded",this.handlePageLoadEnd,{once:!1})},handlePageLoadStart(){this.loading=!0},handlePageLoadEnd(){this.loading=!1}},template:'\n    \n              <img v-if="getImage && isLoading" :src="getImage">\n              \n              <div ref="loader" class="uip-ajax-loader uip-position-relative uip-w-100p" v-else-if="isLoading">\n                <div class="uip-loader-bar"></div>\n              </div>\n              \n              '};