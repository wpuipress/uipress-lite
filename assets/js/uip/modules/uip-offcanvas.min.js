export function moduleData(){return{props:{position:String,overlayStyle:String,style:[String,Object],shortCut:[Boolean,String,Array],closeOnLoad:[Boolean,Object]},data:function(){return{open:!1,uid:this.uipress.createUID()}},inject:["uiTemplate","uipress"],mounted:function(){let t=this;this.mountShortcut(),document.addEventListener("uip_page_change_loaded",i=>{t.open&&t.closeOnLoad&&t.closeOffcanvas()},{once:!1})},methods:{closeOffcanvas(){let t,i=this;t=i.uiTemplate&&"prod"!=i.uiTemplate.display?document.getElementById("uip-template-body"):document.body,"push"==i.overlayStyle&&(t.style.left="0",t.style.right="0"),this.$refs.offCanvasCover.classList.remove("uip-fade-in"),this.$refs.offCanvasCover.classList.add("uip-fade-out"),this.$refs.offCanvasBody.classList.remove("uip-slide-in-left"),"left"==this.position?this.$refs.offCanvasBody.classList.add("uip-slide-out-left"):this.$refs.offCanvasBody.classList.add("uip-slide-out-right"),setTimeout(function(){i.open=!1},200)},openOffCanvas(){let t=this;t.open=!0,"push"==t.overlayStyle&&requestAnimationFrame(()=>{let i,e=t.$refs.offCanvasBody.getBoundingClientRect().width;i="prod"!=t.uiTemplate.display?document.getElementById("uip-template-body"):document.body,"left"==this.position?(i.style.position="relative",i.style.left=e+"px"):(i.style.position="relative",i.style.left="-"+e+"px")})},mountShortcut(){if(!this.shortCut)return;let t=JSON.parse(JSON.stringify(this.shortCut)),i=[];window.addEventListener("keydown",e=>{let n=!1;i.push(e.key.toString()),n=!0;for(let e of t)if(!i.includes(e)){n=!1;break}n&&(this.open=!0)}),window.addEventListener("keyup",t=>{i=[]})}},template:'\n    <div>\n\t\t  <div @click="openOffCanvas()">\n\t  \t\t  <slot name="trigger"></slot>\n\t\t  </div>\n      \n      <component is="style">\n        #wpadminbar{z-index:8;}\n      </component>\n\t\t  \n  \t  <div ref="offCanvasCover" v-if="open && overlayStyle != \'push\'" class="uip-position-fixed uip-w-100p uip-top-0 uip-bottom-0 uip-text-normal uip-flex uip-fade-in" \n\t\t    style="background:rgba(0,0,0,0.3);z-index:9;top:0;left:0;right:0;max-height:100%" >\n\t\t\t    \x3c!-- MODAL GRID --\x3e\n\t\t\t    <div class="uip-flex uip-w-100p uip-h-100p" :class="{\'uip-flex-reverse\': position == \'left\'}">\n\t  \t\t\t    <div class="uip-flex-grow" @click="closeOffcanvas()" ></div>\n\t  \t\t\t    <div ref="offCanvasBody" class="uip-w-30p uip-background-default uip-padding-m  uip-overflow-auto uip-border-box uip-offcanvas-panel uip-position-relative" :class="[{\'uip-slide-in-right\' : position == \'right\'}, {\'uip-slide-in-left\' : position == \'left\'}]" style="max-height: 100%;min-height: 100%;" :style="style">\n\t  \t\t\t\t    <div class="uip-position-absolute uip-top-0 uip-padding-s uip-right-0 uip-z-index-1">\n\t\t   \t\t\t\t    <span @click="closeOffcanvas()" class="uip-icon uip-padding-xxs uip-border-round hover:uip-background-grey uip-cursor-pointer uip-link-muted uip-text-l">\n\t\t\t   \t\t\t\t    close\n\t\t\t\t\t\t    </span>\n\t\t\t\t\t    </div>\n\t\t\t\t\t    <div class="uip-position-relative uip-h-100p uip-flex uip-w-100p uip-flex uip-max-h-100p">\n\t\t  \t\t\t\t    <slot name="content"></slot>\n\t\t\t\t\t    </div>\n\t  \t\t\t    </div>\n\t\t\t    </div>\n\t\t  </div>\n      \n      \n      \n      <div ref="offCanvasCover" v-if="open && overlayStyle == \'push\'" class="uip-position-fixed uip-w-100p uip-top-0 uip-bottom-0 uip-text-normal uip-flex" \n        style="top:0;left:0;right:0;max-height:100%" >\n          \x3c!-- MODAL GRID --\x3e\n          <div class="uip-flex uip-w-100p uip-h-100p" :class="{\'uip-flex-reverse\': position == \'left\'}">\n              <div class="uip-flex-grow" @click="closeOffcanvas()" ></div>\n              <div ref="offCanvasBody" class="uip-w-30p uip-background-default uip-padding-m  uip-overflow-auto uip-border-box uip-offcanvas-panel uip-position-relative" :class="[{\'uip-slide-in-right\' : position == \'right\'}, {\'uip-slide-in-left\' : position == \'left\'}]" style="max-height: 100%;min-height: 100%;" :style="style">\n                <div class="uip-position-absolute uip-top-0 uip-padding-s uip-right-0 uip-z-index-1">\n                   <span @click="closeOffcanvas()" class="uip-icon uip-padding-xxs uip-border-round hover:uip-background-grey uip-cursor-pointer uip-link-muted uip-text-l">\n                     close\n                </span>\n              </div>\n              <div class="uip-position-relative uip-h-100p uip-flex uip-w-100p uip-flex uip-max-h-100p">\n                  <slot name="content"></slot>\n              </div>\n              </div>\n          </div>\n      </div>\n    \n    </div>'}};