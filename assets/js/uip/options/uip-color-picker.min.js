const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;import"../../libs/uip-color-picker.min.js";export function moduleData(){return{props:{returnData:Function,value:String},data:function(){return{open:!1,colour:this.value,manualColorInput:this.value,customColor:this.value,pickerObject:"",strings:{colorValue:__("Colour value","uipress-lite"),colourCode:__("Colour code","uipress-lite"),custom:__("Custom","uipress-lite")}}},watch:{manualColorInput:{handler(o,t){this.color=o,this.pickerObject.color.set(o)}},customColor:{handler(o,t){console.log(o),this.returnData(o)}}},mounted:function(){},computed:{returnSelectedColour(){let o=this.colour;return this.customColor&&""!=this.customColor&&(o=this.customColor),"background-color:"+o},returnCustomClass(){if(this.customColor&&""!=this.customColor&&this.customColor.includes("var(")){let o=this.customColor.replace("var(","");if(o=o.replace(")",""))return o}}},methods:{mountPicker(){let o=this.$el.getElementsByClassName("uip-color-picker")[0],t=this,e=this.value,i=new iro.ColorPicker(o,{width:240,margin:5,padding:0,color:e,handleSvg:"#uip-color-handle",layout:[{component:iro.ui.Box},{component:iro.ui.Slider,options:{id:"hue-slider",sliderType:"hue",width:240}},{component:iro.ui.Slider,options:{sliderType:"alpha",width:240}}]});t.pickerObject=i,i.on("color:change",function(o){t.colour=o.rgbaString,t.manualColorInput=t.colour,t.returnData(t.colour)})}},template:'\n      <dropdown pos="left center" :onOpen="mountPicker">\n          <template v-slot:trigger>\n              <slot name="trigger"></slot>\n          </template>\n          <template v-slot:content>\n            <div class="uip-padding-s uip-flex uip-flex-column uip-row-gap-xs">\n            \n              <div class="uip-color-picker"></div>\n              \n              \n                <div class="uip-flex uip-flex-column uip-flex-grow uip-row-gap-xs">\n                  <div class="uip-text-xs">{{strings.colourCode}}</div>\n                  \n                  <div class="uip-flex uip-flex-row uip-gap-xs uip-flex-center">\n                    <div class="uip-border-rounder uip-border uip-w-22 uip-ratio-1-1" :class="returnCustomClass" :style="returnSelectedColour"></div>\n                    <input type="text" class="uip-input uip-input-small uip-text-bold uip-w-100p uip-text-muted" :placeholder="strings.colorValue" v-model="manualColorInput">\n                  </div>\n                </div>\n               \n              \n              \n              <div class="uip-flex uip-flex-column uip-gap-xs uip-flex-start">\n                  <div class="uip-text-xs">{{strings.custom}}</div>\n                  <input type="text" class="uip-input uip-input-small uip-text-bold uip-w-100p uip-text-muted" placeholder="var(--custom-var)" v-model="customColor">\n              </div>\n              <svg style="display:none">\n                <defs>\n                  <g id="uip-color-handle">\n                    <circle cx="8" cy="8" r="8" fill="rgba(0,0,0,0)" stroke-width="2" stroke="#fff"></circle>\n                  </g>\n                </defs>\n              </svg>\n            </div>\n          </template>\n      </dropdown>'}};