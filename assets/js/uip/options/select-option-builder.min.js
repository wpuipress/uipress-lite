const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;export default{props:{returnData:Function,value:Object},data:()=>({options:[],updating:!1,strings:{addNew:__("New option","uipress-lite"),label:__("Label","uipress-lite"),value:__("Value","uipress-lite")}}),watch:{value:{handler(i,n){this.updating||this.injectPropValue()},deep:!0,immediate:!0},options:{handler(i,n){this.updating||this.returnData({options:this.options})},deep:!0}},methods:{async injectPropValue(){this.updating=!0,this.options=[],this.isObject(this.value)&&Array.isArray(this.value.options)&&(this.options=this.value.options,await this.$nextTick(),this.updating=!1)},deleteOption(i){this.options.splice(i,1)},newOption(){this.options.push({label:__("Option","uipress-lite"),name:""})}},template:'\n    \n    <div class="uip-flex uip-flex-column uip-row-gap-xs uip-w-100p">\n    \n    \n        <uip-draggable \n        class="uip-flex uip-flex-column uip-row-gap-xs uip-w-100p"\n        :group="{ name: \'uip-drop\', pull: false, put: false }" \n        :list="options"\n        animation="300"\n        :sort="true"\n        handle=".uip-cursor-drag">\n            \n            <template v-for="(element, index) in options" \n            :key="index" :index="index">\n            \n              <div class="uip-flex uip-gap-xxs uip-w-100p">\n                \n                <button class="uip-button-default uip-border-rounder uip-icon uip-padding-xxs uip-link-muted uip-cursor-drag">drag_indicator</button>\n                \n                <input type="text" :placeholder="strings.label" v-model="element.label" :key="index" class="uip-input-small uip-flex-shrink uip-w-70">\n                <input type="text" :placeholder="strings.value" v-model="element.name" :key="index" class="uip-input-small uip-flex-grow uip-w-70">\n\n                \n                <button @click="deleteOption(index)" class="uip-button-default uip-border-rounder uip-icon uip-padding-xxs uip-link-muted">close</button>\n                \n              </div>\n            </template>\n            \n        </uip-draggable >\n        \n        <div @click="newOption()" class="uip-padding-xxs uip-border-rounder uip-background-muted hover:uip-background-grey uip-cursor-pointer uip-flex uip-flex-middle uip-flex-center uip-gap-xs">\n          <span class="uip-icon">add</span>\n        </div>\n        \n      </div>\n      \n      \n      '};