const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;export function moduleData(){return{props:{returnData:Function,value:String,args:Object},data:function(){return{option:this.value,editor:Object,language:this.args.language,fullScreen:!1,finalVal:"",modalOpen:!1,strings:{openFullscreen:__("Fullscreen","uipress-lite"),closeFullscreen:__("Exit fullscreen","uipress-lite"),codeEditor:__("Code editor","uipress-lite"),editCode:__("Edit code","uipress-lite")}}},inject:["uipress"],mounted:function(){let e=this;if(e.editor=ace.edit(this.$refs.codeeditor),e.editor.setTheme("ace/theme/dracula"),"css"==e.language){let i=ace.require("ace/mode/css").Mode;e.editor.session.setMode(new i)}if("javascript"==e.language){let i=ace.require("ace/mode/javascript").Mode;e.editor.session.setMode(new i)}if("html"==e.language){ace.require("ace/mode/html").Mode;e.editor.session.setMode("ace/mode/html")}let i=structuredClone(e.option);e.editor.setValue(i,-1),e.editor.session.on("change",function(i){let n=e.editor.getValue();e.finalVal=n})},watch:{option:{handler(e,i){this.returnData(this.option)},deep:!0}},computed:{returnCode(){return this.option}},methods:{returnFullscreenClass(){if(this.fullScreen)return"uip-position-fixed uip-top-0 uip-bottom-0 uip-left-0 uip-right-0 uip-z-index-9999"},closeModal(e){e.target&&e.target.contains(this.$refs.modalInner)&&(this.modalOpen=!1)},saveCode(){this.option=this.finalVal,this.modalOpen=!1,this.uipress.notify(__("Code updated","uipress-lite"),"","success")}},template:'\n    \n    \n    <div class="uip-w-100p">\n    \n        <button class="uip-button-default uip-border-rounder uip-padding-xxs uip-w-100p" @click="modalOpen = true">\n          <span v-if="returnCode == \'\'" class="uip-icon">add</span>\n          <span v-else class="uip-w-100p uip-text-s uip-text-muted uip-no-wrap uip-text-ellipsis uip-overflow-hidden">{{strings.editCode}}</span>\n        </button>\n        \n        \n        <div v-show="modalOpen" class="uip-position-fixed uip-top-0 uip-left-0 uip-h-viewport uip-w-vw uip-background-black-wash uip-flex uip-flex-center uip-flex-middle uip-fade-in uip-z-index-9999" @click="closeModal($event)">\n        \n          <div class="uip-background-muted uip-border-rounder uip-border uip-flex uip-flex-column uip-scale-in uip-min-w-600 uip-min-w-200 uip-max-w-100p uip-text-normal uip-position-relative uip-modal-body uip-flex uip-flex-column uip-dark-mode" ref="modalInner">\n            \n            \n            <div class="uip-padding-xs uip-border-bottom uip-flex uip-flex-between">\n              <span>{{strings.codeEditor}}</span>\n              <span class="uip-icon uip-text-l uip-link-muted" @click="modalOpen = false">close</span>\n            </div>\n          \n            <div class="">\n            \n              <div class="uip-min-h-400 uip-w-100p uip-scrollbar uip-flex-grow" style="border-radius: 0 0 var(--uip-border-radius-large) var(--uip-border-radius-large)" ref="codeeditor">\n              </div>\n              \n            </div>  \n            \n            \n            <div class="uip-padding-xs uip-flex uip-flex-between">\n              <button class="uip-button-default uip-background-grey" @click="modalOpen = false">Cancel</button>\n              <button class="uip-button-primary" @click="saveCode()">Save</button>\n            </div>\n            \n          \n          </div>\n          \n          \n        </div>  \n    \n    \n    </div>\n    \n    '}};