const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;import{defineAsyncComponent,nextTick}from"../../libs/vue-esm.js";export default{components:{imageSelect:defineAsyncComponent(()=>import("../v3.5/styles/image-select.min.js?ver=3.3.1")),colorBox:defineAsyncComponent(()=>import("../v3.5/utility/color-box.min.js?ver=3.3.1"))},props:{returnData:Function,value:Object,args:Object},data:()=>({img:{url:"",dynamic:!1,dynamicKey:"",loading:!1,sizing:{}},strings:{imageSelect:__("Image select","seql")}}),watch:{value:{handler(e,i){this.updating||this.formatInput()},deep:!0,immediate:!0},img:{handler(e,i){this.updating||this.returnData(this.img)},deep:!0}},computed:{returnBackgroundImage(){if(this.img.url)return`background-size:contain;background-image: url(${this.img.url})`},imgReset:()=>({url:"",dynamic:!1,dynamicKey:"",loading:!1,sizing:{}}),returnDefault:()=>({url:"",dynamic:!1,dynamicKey:"",loading:!1,sizing:{}})},methods:{formatInput(){this.img=this.isObject(this.value)?this.value:this.returnDefault}},template:'\n        <dropdown pos="left center"  class="uip-w-100p" ref="imageDropdown" :snapX="[\'#uip-block-settings\', \'#uip-template-settings\', \'#uip-global-settings\']">\n        \n          <template v-slot:trigger>\n          \n            <colorBox :backgroundStyle="returnBackgroundImage" :text="img.url" :remove="()=>{img = imgReset}"/>\n            \n          </template>\n          \n          <template v-slot:content>\n          \n            <div class="uip-flex uip-flex-column uip-row-gap-s uip-padding-s uip-w-240">\n            \n              <div class="uip-flex uip-flex-between uip-flex-center">\n                <div class="uip-text-emphasis uip-text-bold uip-text-s">{{strings.imageSelect}}</div>\n                <div @click="$refs.imageDropdown.close()"\n                class="uip-flex uip-flex-center uip-flex-middle uip-padding-xxs uip-link-muted hover:uip-background-muted uip-border-rounder">\n                  <span class="uip-icon">close</span>\n                </div>\n              </div> \n              \n              <imageSelect :value="img" :returnData="(d)=>{img = d}" :args="args"/>\n            \n            </div>\n            \n          </template>\n        </dropdown>'};