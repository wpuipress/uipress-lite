const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;import*as allUIPIcons from"./uip-icons.min.js";export function moduleData(){return{props:{returnData:Function,value:Object},data:function(){return{open:!1,icon:{value:""},allIcons:this.shuffle(allUIPIcons.returnIcons()),searchString:"",currentPage:0,iconsPerPage:56,totalIcons:0,maxPages:0,strings:{searchIcons:__("Search icons","uipress-lite"),clearIcon:__("Clear icon","uipress-lite"),chooseIcon:__("Choose icon","uipress-lite")}}},inject:["uipress"],watch:{icon:{handler(n,e){this.returnData(n)},deep:!0}},mounted:function(){this.formatIcon(this.value)},computed:{iconsPaged(){let n=this,e=n.allIcons,i=[],t=[],o=n.searchString.toLowerCase();n.currentPage<0&&(n.currentPage=0),n.totalIcons=n.allIcons.length,n.maxPages=Math.ceil(n.allIcons.length/this.iconsPerPage),n.currentPage>n.maxPages&&(n.currentPage=n.maxPages);let s=n.currentPage*n.iconsPerPage,a=s+n.iconsPerPage;if(o.length>0){n.currentPage=0;for(let n=0;n<e.length;n++)name=e[n].toLowerCase(),name.includes(o)&&t.push(e[n]);i=t.slice(s,a),n.totalIcons=i.length,n.maxPages=Math.ceil(i.length/this.iconsPerPage)}else i=this.allIcons.slice(s,a);return i}},methods:{shuffle(n){let e,i=n.length;for(;0!=i;)e=Math.floor(Math.random()*i),i--,[n[i],n[e]]=[n[e],n[i]];return n},formatIcon(n){this.uipress.isObject(n)&&(this.icon={...this.icon,...n})},nextPage(){this.currentPage=this.currentPage+1},previousPage(){this.currentPage=this.currentPage-1},chooseIcon(n){this.icon.value=n,this.returnData(this.icon)}},template:'\n    \n    <div class="uip-w-100p uip-flex uip-gap-xs uip-flex-center">\n        <dropdown pos="left center" class="">\n            <template v-slot:trigger>\n                \n                <div class="uip-border-rounder uip-text-l uip-flex uip-icon uip-padding-xxxs uip-text-center uip-link-default uip-background-muted">\n                \n                    <span v-if="icon.value" class="uip-icon">{{icon.value}}</span>\n                    <span class="uip-icon">add</span>\n                \n                </div>\n                \n            </template>\n            <template v-slot:content>\n              <div class="uip-min-w-200 uip-padding-s uip-flex uip-row-gap-s uip-flex-column">\n                \n                <div class="">\n                  <div class="uip-flex  uip-search-block uip-border-round ">\n                    <span class="uip-icon uip-text-muted uip-margin-right-xs uip-text-l uip-icon uip-icon-medium" >search</span>\n                    <input class="uip-blank-input uip-flex-grow uip-text-s" type="search" :placeholder="strings.searchIcons" v-model="searchString" autofocus="">\n                  </div>\n                </div>\n                \n                \n                <div class="uip-flex uip-flex-wrap uip-flex-start uip-gap-xs uip-row-gap-xs uip-padding-bottom-remove" style="font-size:14px;max-width:290px;min-width:290px">\n                  <template v-for="option in iconsPaged">\n                   <span :title="option" class="uip-icon uip-icon-medium uip-text-xl hover:uip-background-muted uip-padding-xxxs uip-border-round hover:uip-background-grey uip-cursor-pointer uip-flex-no-grow uip-max-w-30 uip-overflow-hidden uip-link-default" @click="chooseIcon(option)">\n                     {{option}}\n                   </span>\n                  </template>\n                </div>\n                \n                <div class="uip-flex uip-flex-between uip-flex-right">\n                  <div class="uip-flex uip-gap-xs" v-if="totalIcons > iconsPerPage">\n                    <button class="uip-button-default uip-icon uip-border-rounder uip-padding-xxs" @click="previousPage()" type="button">chevron_left</button>\n                    <button class="uip-button-default uip-icon uip-border-rounder uip-padding-xxs" @click="nextPage()" type="button">chevron_right</button>\n                  </div>\n                </div>\n                \n              </div>\n            </template>\n        </dropdown>\n        \n        <input type="text" class="uip-input-small uip-w-100p" v-model="icon.value">\n        \n        <div v-if="icon.value" class="uip-button-default uip-icon uip-border-rounder uip-padding-xxs uip-link-muted" @click="icon.value = \'\'">\n        \n            <span class="uip-icon">close</span>\n        \n        </div>\n      </div>\n      \n      '}};