export default{computed:{},methods:{returnBlockStylesAsCss(t){const e=this.returnBlockParts(t);if(!e.length)return;let i=`#${t.uid}`,s="";for(let t of e){let e=t.class?`${t.class} {`:"";e=e.startsWith(":")?`&${e}`:e;const i=t.class?"}":"";let n=this.processBlockPartStyleSection(t);s+=n?`${e} ${n} ${i}`:""}return s.trim()?`${i} { ${s} }`:""},returnBlockParts(t){const{moduleName:e,settings:i}=t,s=this.uipData.blocks;if(!this.isObject(i))return[];const n=s.find(t=>t.moduleName===e);if(!n||!n.optionsEnabled)return[];const a=new Set(["advanced","block"]);return n.optionsEnabled.filter(t=>!a.has(t.name)).filter(t=>t.name in i&&i[t.name].options).map(t=>({...t,styleSettings:i[t.name].options}))},processBlockPartStyleSection(t){let e="";const i=t.styleSettings;return this.isObject(i)?(e+=this.isObject(i.flexLayout)?this.processLayoutStyle(i.flexLayout):"",e+=this.isObject(i.dimensions)?this.processDimensionsStyle(i.dimensions):"",e+=this.isObject(i.styles)?this.processStylesStyle(i.styles):"",e+=this.isObject(i.spacing)?this.processSpacingStyle(i.spacing):"",e+=this.isObject(i.textFormat)?this.processTextStyle(i.textFormat):"",e+=this.isObject(i.positionDesigner)?this.processPositionStyle(i.positionDesigner):"",e+=this.isObject(i.effectsDesigner)?this.processEffectsStyle(i.effectsDesigner):""):e},processEffectsStyle(t){if(!this.isObject(t.value))return"";const e=t.value;let i="",s="",n="";const a=this.hasNestedPath(e,"transform","translateX","value"),o=this.hasNestedPath(e,"transform","translateX","units");s+=a&&o?`translateX(${a}${o}) `:"";let r=this.hasNestedPath(e,"transform","translateY","value"),l=this.hasNestedPath(e,"transform","translateY","units");s+=r&&l?`translateY(${r}${o}) `:"";let h=this.hasNestedPath(e,"transform","scaleX");s+=h?`scaleX(${h}) `:"";let u=this.hasNestedPath(e,"transform","scaleY");s+=u?`scaleY(${u}) `:"";let d=this.hasNestedPath(e,"transform","rotateX");s+=d?`rotateX(${d}deg) `:"";let f=this.hasNestedPath(e,"transform","rotateY");s+=f?`rotateY(${f}deg) `:"";let c=this.hasNestedPath(e,"transform","rotateZ");s+=c?`rotateZ(${c}deg) `:"";let g=this.hasNestedPath(e,"transform","skewX");s+=g?`skewX(${g}deg) `:"";let m=this.hasNestedPath(e,"transform","skewY");i+=(s+=m?`skewY(${m}deg) `:"")?`transform:${s};`:"";let $=this.hasNestedPath(e,"filters","mixBlendMode");i+=$?`mix-blend-mode:${$};`:"";let p=this.hasNestedPath(e,"filters","grayscale");n+=p?`grayscale(${p}) `:"";let v=this.hasNestedPath(e,"filters","blur");n+=v?`blur(${v}px) `:"";let b=this.hasNestedPath(e,"filters","saturate");n+=b?`saturate(${b}) `:"";let y=this.hasNestedPath(e,"filters","contrast");n+=y?`contrast(${y}) `:"";let x=this.hasNestedPath(e,"filters","backdropBlur");i+=x?`backdrop-filter:blur(${x}px);`:"",i+=n?`filter:${n};`:"";let P=this.hasNestedPath(e,"transitionType"),N=this.hasNestedPath(e,"transitionTime"),S=this.hasNestedPath(e,"transitionDelay"),w=this.hasNestedPath(e,"cursor");return i+=P&&!this.isUnDefined(N)?`transition:all ${P} ${N}s;`:"",i+=S?`transition-delay: ${S}s;`:"",i+=w?`cursor: ${w};`:""},processPositionStyle(t){if(!this.isObject(t.value))return"";const e=t.value;let i="";i+=e.position?`position:${e.position};`:"",i+=e.display?`display:${e.display};`:"",i+=this.isUnDefined(e.zIndex)?"":`z-index:${e.zIndex};`;const s=this.hasNestedPath(e,"offset","units");return s&&(i+=this.isUnDefined(e.offset.left)?"":`left:${e.offset.left}${s};`,i+=this.isUnDefined(e.offset.top)?"":`top:${e.offset.top}${s};`,i+=this.isUnDefined(e.offset.right)?"":`right:${e.offset.right}${s};`,i+=this.isUnDefined(e.offset.bottom)?"":`bottom:${e.offset.bottom}${s};`),i+="top"==e.verticalAlign?"margin-bottom: auto;":"",i+="bottom"==e.verticalAlign?"margin-top: auto;":"",i+="center"==e.verticalAlign?"margin-top: auto;margin-bottom: auto;":"",i+="left"==e.horizontalAlign?"margin-right: auto;":"",i+="right"==e.horizontalAlign?"margin-left:auto;align-self: flex-end;":"",i+="center"==e.horizontalAlign?"margin-right:auto;margin-left:auto;align-self: center;":""},processTextStyle(t){if(!this.isObject(t.value))return"";const e=t.value;let i=this.hasNestedPath(e,"size","preset");const s=this.hasNestedPath(e,"size","value"),n=this.hasNestedPath(e,"lineHeight","value");let a="";return i&&"custom"!=i&&(a+="XS"==(i=i.toUpperCase())?"font-size: var(--uip-text-xs);":"",a+="SMALL"==i||"S"==i?"font-size: var(--uip-text-s);":"",a+="MEDIUM"==i||"M"==i?"font-size: var(--uip-text-m);":"",a+="LARGE"==i||"L"==i?"font-size: var(--uip-text-l);":"",a+="XL"==i?"font-size: var(--uip-text-xl);":""),"custom"!=i||this.isUnDefined(s)||(a+=e.size.units?`font-size:${s}${e.size.units};`:""),this.isUnDefined(n)||(a+=e.lineHeight.units?`line-height:${n}${e.lineHeight.units};`:""),a+=e.align?`text-align: ${e.align};`:"",a+=e.bold?"font-weight: bold;":"",a+=e.italic||"italic"==e.decoration?"font-style: italic;":"",a+=e.underline||"underline"==e.decoration?"text-decoration: underline;":"",a+=e.strikethrough||"strikethrough"==e.decoration?"text-decoration: strikethrough;":"",a+=this.isUnDefined(e.weight)?"":`font-weight: ${e.weight};`,a+=e.transform?`text-transform: ${e.transform};`:"",a+=this.isObject(e.color)?`color: ${this.handleColorOutput(e.color.value)};`:"",a+=e.font&&"custom"!=e.font?`font-family: ${e.font};`:"",a+=e.customName&&"custom"==e.font?`font-family: ${e.customName};`:"",a+=e.customURL?`@import url('${e.customURL}');`:""},processSpacingStyle(t){if(!this.isObject(t.value))return"";const e=t.value;let i="";const s=e.padding,n=e.margin;if(!s&&!n)return i;const a=(t,e)=>{let i="";const s=t.preset;return s&&"custom"!==s?(i+="0"==s?`${e}: 0;`:"",i+="XS"==s?`${e}: var(--uip-${e}-xxs);`:"",i+="S"==s?`${e}: var(--uip-${e}-xs);`:"",i+="M"==s?`${e}: var(--uip-${e}-s);`:"",i+="L"==s?`${e}: var(--uip-${e}-m);`:"",i+="XL"==s?`${e}: var(--uip-${e}-l);`:""):"custom"==s&&t.sync?i=!this.isUnDefined(t.left)&&t.units?`${e}:${t.left}${t.units};`:"":"custom"!=s||t.sync?void 0:t.units?(i+=this.isUnDefined(t.left)?"":`${e}-left:${t.left}${t.units};`,i+=this.isUnDefined(t.top)?"":`${e}-top:${t.top}${t.units};`,i+=this.isUnDefined(t.right)?"":`${e}-right:${t.right}${t.units};`,i+=this.isUnDefined(t.bottom)?"":`${e}-bottom:${t.bottom}${t.units};`):""};return i+=s?a(s,"padding"):"",i+=n?a(n,"margin"):""},processLayoutStyle(t){if(!this.isObject(t.value))return"";const e=t.value;switch(e.type){case"grid":return this.generateGridStyles(e);case"stack":return this.generateStackStyles(e);default:return""}},generateGridStyles(t){let e="display:grid;";return t.columns&&t.columnWidth?this.isUnDefined(t.columnWidth.value)?"":(t.responsive?e+=`\n\t\t  --grid-layout-gap: ${t.gap.value}${t.gap.units};\n\t\t  --grid-column-count:${t.columns};\n\t\t  --grid-item--min-width: ${t.minColumnWidth.value}${t.minColumnWidth.units};\n\t\t  --gap-count: calc(var(--grid-column-count) - 1);\n\t\t  --total-gap-width: calc(var(--gap-count) * var(--grid-layout-gap));\n\t\t  --grid-item--max-width: calc((100% - var(--total-gap-width)) / var(--grid-column-count));\n\t\t  grid-template-columns: repeat(auto-fill, minmax(max(var(--grid-item--min-width), var(--grid-item--max-width)), 1fr));\n\t\t  grid-gap: var(--grid-layout-gap);\n\t\t  grid-auto-rows: min-content;\n\t\t`:(e+=`grid-template-columns: repeat(${t.columns}, minmax(${t.columnWidth.value}${t.columnWidth.units}, 1fr));`,e+="justify-content: center;",e+="grid-auto-rows: minmax(0, 1fr);",e+=`grid-template-rows: repeat(${t.rows}, minmax(0, 1fr));`,"gap"in t&&(e+=`gap: ${t.gap.value}${t.gap.units};`)),e):""},generateStackStyles(t){let e="display:flex;";return e+=t.direction?`flex-direction: ${t.direction};`:"",e+=t.distribute?`justify-content: ${t.distribute};`:"",e+=t.align?`align-items: ${t.align};`:"",e+=t.wrap?`flex-wrap: ${t.wrap};`:"",e+=t.placeContent?`align-content: ${t.placeContent};`:"","gap"in t&&(e+=t.gap.value&&t.gap.units?`gap: ${t.gap.value}${t.gap.units};`:""),e},processDimensionsStyle(t){if(!this.isObject(t.value))return"";const e=t.value;let i="";return this.isObject(e.width)&&(i+=!this.isUnDefined(e.width.value)&&e.width.units?`width:${e.width.value}${e.width.units};`:""),this.isObject(e.maxWidth)&&(i+=!this.isUnDefined(e.maxWidth.value)&&e.maxWidth.units?`max-width:${e.maxWidth.value}${e.maxWidth.units};`:""),this.isObject(e.minWidth)&&(i+=!this.isUnDefined(e.minWidth.value)&&e.minWidth.units?`min-width:${e.minWidth.value}${e.minWidth.units};`:""),this.isObject(e.height)&&(i+=!this.isUnDefined(e.height.value)&&e.height.units?`height:${e.height.value}${e.height.units};`:""),this.isObject(e.minHeight)&&(i+=!this.isUnDefined(e.minHeight.value)&&e.minHeight.units?`min-height:${e.minHeight.value}${e.minHeight.units};`:""),this.isObject(e.maxHeight)&&(i+=!this.isUnDefined(e.maxHeight.value)&&e.maxHeight.units?`min-height:${e.maxHeight.value}${e.maxHeight.units};`:""),i+="grow"===e.grow?"flex-grow:1;":"",i+="shrink"===e.flexShrink?"flex-shrink:1;":"",i+="none"===e.flexShrink?"flex-shrink:0;":""},handlePseudoStyle(t,e){if(!("light"in t))return"";let i="";if(this.isObject(t.light))for(const s in t.light){let n=e({value:t.light[s]});i+=n?`&${s}{${n}}`:""}return i},processStylesStyle(t){let e="";if(e+=this.hasNestedPath(t,"pseudo")?this.handlePseudoStyle(t.pseudo,this.processStylesStyle):"",!this.isObject(t.value))return e;const i=t.value;e+=this.isUnDefined(i.opacity)?"":`opacity: ${i.opacity};`,e+=i.overflow?`overflow: ${i.overflow};`:"";const s=this.hasNestedPath(i,"outline");if(this.hasNestedPath(s,"width","value")&&this.hasNestedPath(s,"color","value")){const t=s.width,i=this.handleColorOutput(s.color.value);s.offset;e+=!this.isUnDefined(t.value)&&t.units&&s.style&&i?`outline:${t.value}${t.units} ${s.style} ${i};`:""}if(this.hasNestedPath(s,"offset","value")){e+=!this.isUnDefined(s.offset.value)&&s.offset.units?`outline-offset:${s.offset.value}${s.offset.units};`:""}if(this.hasNestedPath(i,"fill","value")){const t=i.fill.value?this.handleColorOutput(i.fill.value):"",s=!!t.includes("gradient");s&&(e+=t?`background: ${t};`:""),s||(e+=t?`background-color: ${t};`:"")}if(this.hasNestedPath(i,"backgroundImage","url")){const t=i.backgroundImage.url;if(e+=t?`background-image: url(${t});`:"",this.hasNestedPath(i,"backgroundImage","sizing","position")){const t=i.backgroundImage.sizing;e+=t.position?`background-position:${t.position};`:"",e+=t.repeat?`background-repeat:${t.repeat};`:"",e+=t.size?`background-size:${t.size};`:"background-size:contain;"}}if(i.borders&&Array.isArray(i.borders))for(let t of i.borders)e+=this.processBorderStyle(t);if(this.hasNestedPath(i,"radius","topleft")){const t=i.radius;if(t.sync&&t.units)e+=!this.isUnDefined(t.topleft)&&t.units?`border-radius: ${t.topleft}${t.units};`:"";else if(t.units){e+=`border-radius: ${this.isUnDefined(t.topleft)?0:t.topleft+t.units} ${this.isUnDefined(t.topright)?0:t.topright+t.units} ${this.isUnDefined(t.bottomright)?0:t.bottomright+t.units} ${this.isUnDefined(t.bottomleft)?0:t.bottomleft+t.units};`}}return i.shadows&&Array.isArray(i.shadows)&&(e+=this.processShadowStyle(i.shadows)),e},processBorderStyle(t={}){let e="",i=this.hasNestedPath(t,"color","value"),s=this.hasNestedPath(t,"position"),n=this.hasNestedPath(t,"style"),a=this.hasNestedPath(t,"width","value"),o=this.hasNestedPath(t,"width","units"),r=this.hasNestedPath(t,"radius","value");if(!i&&!r)return e;if(i&&a&&o){e+=`${{solid:"border:",left:"border-left:",right:"border-right:",top:"border-top:",bottom:"border-bottom:"}[s]||""}${a}${o} ${n} ${i=this.handleColorOutput(i)};`}if(!r)return e;if(r.sync)e+=!this.isUnDefined(r.topleft)&&r.units?`border-radius: ${r.topleft}${r.units};`:"";else if(r.units){e+=`border-radius: ${this.isUnDefined(r.topleft)?0:r.topleft+r.units} ${this.isUnDefined(r.topright)?0:r.topright+r.units} ${this.isUnDefined(r.bottomright)?0:r.bottomright+r.units} ${this.isUnDefined(r.bottomleft)?0:r.bottomleft+r.units};`}return e},processShadowStyle(t=[]){let e="",i="",s=[];for(let e of t){let t=this.hasNestedPath(e,"color","value"),n=this.hasNestedPath(e,"verticalDistance","value"),a=this.hasNestedPath(e,"verticalDistance","value"),o=this.hasNestedPath(e,"blur","value"),r=this.hasNestedPath(e,"position");if(!(t&&n&&a&&o))continue;const l=`${n}px ${a}px ${o}px ${t=this.handleColorOutput(t)}`;"inside"===r?s.push(`inset ${l}`):i+=`drop-shadow(${l}) `}return e+=i?`filter: ${i};`:"",e+=s.length?`box-shadow: ${s.join(",")};`:""},handleColorOutput(t){if(!t)return;const e=t.trim();return e.startsWith("--")?`var(${e})`:e}}};