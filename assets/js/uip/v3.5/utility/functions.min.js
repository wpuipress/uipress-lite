export function ensureNestedObject(e,...t){t.reduce((e,t,n,r)=>(e[t]||(e[t]={}),e[t]),e)};export function hasNestedPath(e,...t){for(let n of t){if(!e.hasOwnProperty(n))return!1;e=e[n]}return e};export function prepareJSON(e){return JSON.stringify(e,(e,t)=>"true"===t||!0===t?"uiptrue":"false"===t||!1===t?"uipfalse":""===t?"uipblank":t)};export function deepClone(e){const t=JSON.stringify(e);return JSON.parse(t)};export async function copyToClipboard(e){if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(e);else{const t=document.createElement("textarea");t.value=e,t.style.position="absolute",t.style.left="-999999px",document.body.prepend(t),t.select();try{document.execCommand("copy")}catch(e){console.error(e)}finally{t.remove()}}};export function isObject(e){return null!==e&&"object"==typeof e&&e.constructor===Object};export function isUnDefined(e){return void 0===e||null===e||""===e};export function get_block_option(e,t,n){if(isUnDefined(e.settings))return!1;if(!(t in e.settings))return!1;if(!isObject(e.settings[t]))return!1;if(!("options"in e.settings[t]))return!1;const r=e.settings[t].options;if(!isObject(r[n]))return!1;if(!("value"in r[n]))return!1;let o=r[n].value;return!isUnDefined(o)&&o};export function createUID(){let e=Date.now().toString(16)+Math.random().toString(16).slice(2);return e+=Math.random().toString(16).slice(2)+performance.now().toString(16),(generateRandomString(3)+e).substring(0,24)};export function generateRandomString(e=4){let t="";for(let n=0;n<e;n++){t+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*"abcdefghijklmnopqrstuvwxyz".length)]}return t};export async function sendServerRequest(e,t){const n=__("Bad request","uipress-lite"),r=await fetch(e,{method:"POST",headers:{"Content-Length":"0"},body:t});if(!r.ok)return n(n),{error:!0,message:n};const o=await r.text(),i=this.uipParsJson(o);return i||(n(n),{error:!0,message:n})};