const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;export default{props:{display:String,name:String,block:Object},data:()=>({loading:!1}),inject:["uiTemplate"],created(){this.mountEventListeners()},onUnmounted(){document.removeEventListener("uipress/app/page/load/start",this.handlePageLoadStart),document.removeEventListener("uipress/app/page/load/finish",this.handlePageLoadEnd)},computed:{isLoading(){return!this.uiTemplate.isPreview&&"prod"!=this.uiTemplate.display||this.loading},getImage(){let e=this.get_block_option(this.block,"block","loaderImage");return!!this.isObject(e)&&(!!e.url&&e.url)}},methods:{mountEventListeners(){document.addEventListener("uipress/app/page/load/start",this.handlePageLoadStart),document.addEventListener("uipress/app/page/load/finish",this.handlePageLoadEnd)},handlePageLoadStart(){this.loading=!0,setTimeout(()=>{this.loading=!1},2e3)},handlePageLoadEnd(){this.loading=!1}},template:'\n    \n              <img v-if="getImage && isLoading" :src="getImage">\n              \n              <div ref="loader" class="uip-ajax-loader uip-position-relative uip-w-100p" v-else-if="isLoading">\n                <div class="uip-loader-bar"></div>\n              </div>\n              \n              '};